{"version":3,"file":"commonHelpers.js","sources":["../src/img/octagon.png","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEZSURBVHgBrZVRDoMgDIar0fi6m2xH2Y3Ek2w3cFfZXXwBljFQCai0xemfoCaU/xNpKwAirXWrlDY5w8ViPhVmbgwIO14A3zeQKq/2IuwaqOu6A07+zaVUT8iUi+V28rd5NuSIOQs5wxyFUOZKqRtnmIpZQCZz3acWcgcXUjkF0b2bmwFSpAxskMAgYecaWSsFC8AgnHkMqIBR09TCGrnHsZic5iLs3By3ngWsITMgy9yphEyVJZjUM6esHUS9yfea7N7DAmJz/1niM2EhVBZR2UKl8DS/SFO80OhUnCBkoYWgz2MdNAx8q0jFOK/Fy1GQvdqYe50BQc3PgLDmRyCU+aYOfFsoCtPa+yXvp2/ue9rHqLATflCf5QflVUcNIrzeSwAAAABJRU5ErkJggg==\"","import { gallery, loadMoreBtn } from '../main';\n\nexport function createMarkup(data) {\n  let markup = data.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n      <div class=\"image-wrapper\"><a href=\"${largeImageURL}\"><img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"\n                    height=\"200\"></a></div>\n      <div class=\"text-wrapper\">\n        <ul class=\"text-list\">\n          <li class=\"text-list-item\">\n            <h3 class=\"text-list-title\">Likes</h3>\n            <p class=\"text-list-param\">${likes}</p>\n          </li>\n          <li class=\"text-list-item\">\n            <h3 class=\"text-list-title\">Views</h3>\n            <p class=\"text-list-param\">${views}</p>\n          </li>\n          <li class=\"text-list-item\">\n            <h3 class=\"text-list-title\">Comments</h3>\n            <p class=\"text-list-param\">${comments}</p>\n          </li>\n          <li class=\"text-list-item\">\n            <h3 class=\"text-list-title\">Downloads</h3>\n            <p class=\"text-list-param\">${downloads}</p>\n          </li>\n        </ul>\n      </div>\n    </li>`;\n      }\n    )\n    .join('');\n\n  loadMoreBtn.classList.remove('is-hidden');\n\n  return gallery.insertAdjacentHTML('beforeend', markup);\n}\n","import octagon from '../img/octagon.png';\nimport { gallery, request, page, loadMoreBtn, loader, input } from '../main';\nimport { createMarkup } from '../js/pixabay-api';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\nconst select = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nconst lightbox = new SimpleLightbox('.image-gallery a', select);\nlet totalPages = 0;\n\nexport async function getImages(link) {\n  await axios\n    .get(link)\n    .then(({ data }) => {\n      if (data.hits.length === 0) {\n        input.value = '';\n        loadMoreBtn.classList.add('is-hidden');\n\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          backgroundColor: '#ef4040',\n          theme: 'dark',\n          iconUrl: octagon,\n          iconColor: '#fafafb',\n          messageSize: '16',\n          closeOnEscape: true,\n          maxWidth: '432',\n          position: 'topRight',\n        });\n\n        gallery.innerHTML = '';\n        return;\n      }\n\n      totalPages = Math.ceil(data.totalHits / request.per_page);\n\n      if (page === totalPages) {\n        iziToast.info({\n          message: 'Sorry, there are no images',\n          messageColor: '#fafafb',\n          backgroundColor: '#2e2f42',\n          theme: 'dark',\n          messageSize: '16',\n          closeOnEscape: true,\n          maxWidth: '432',\n          position: 'topRight',\n        });\n\n        loadMoreBtn.classList.add('is-hidden');\n        return;\n      }\n\n      createMarkup(data);\n\n      const scrollHight = gallery.getBoundingClientRect().height;\n\n      window.scrollBy({\n        top: scrollHight,\n        behavior: 'smooth',\n      });\n\n      return lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n}\n","import { getImages } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nexport const input = document.querySelector('input[name=message]');\nexport const gallery = document.querySelector('.image-gallery');\nexport const loadMoreBtn = document.querySelector('.load-btn');\nexport const loader = document.querySelector('.loader');\nconst KEY = '42476589-1f9c9241784e75b96bc1ad3a5';\nexport let url = 'https://pixabay.com/api/';\nlet currentUrl = `${url}?key=${KEY}`;\n\nexport const request = {\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 15,\n};\n\nexport let page;\nlet searchParam;\nlet inputValue;\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.innerHTML = null;\n  loader.classList.remove('is-hidden');\n  inputValue = input.value;\n  page = 1;\n  searchParam = new URLSearchParams(request);\n  currentUrl = `${currentUrl}&q=${input.value}&${searchParam}&page=${page}`;\n  getImages(currentUrl);\n});\n\nloadMoreBtn.addEventListener('click', () => {\n  page += 1;\n  currentUrl = `${currentUrl}&q=${inputValue}&${searchParam}&page=${page}`;\n  getImages(currentUrl);\n});\n"],"names":["octagon","createMarkup","data","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loadMoreBtn","gallery","select","lightbox","SimpleLightbox","totalPages","getImages","link","axios","input","iziToast","request","page","scrollHight","error","loader","form","KEY","url","currentUrl","searchParam","inputValue","event"],"mappings":"+vBAAA,MAAeA,EAAA,iiBCER,SAASC,EAAaC,EAAM,CACjC,IAAIC,EAASD,EAAK,KACf,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,4CAC6BL,CAAa,6BAA6BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMvEC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAM7C,EACA,KAAK,EAAE,EAEV,OAAAC,EAAY,UAAU,OAAO,WAAW,EAEjCC,EAAQ,mBAAmB,YAAaT,CAAM,CACvD,CChCA,MAAMU,EAAS,CACb,aAAc,MACd,aAAc,GAChB,EAEMC,EAAW,IAAIC,EAAe,mBAAoBF,CAAM,EAC9D,IAAIG,EAAa,EAEV,eAAeC,EAAUC,EAAM,CACpC,MAAMC,EACH,IAAID,CAAI,EACR,KAAK,CAAC,CAAE,KAAAhB,KAAW,CAClB,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BkB,EAAM,MAAQ,GACdT,EAAY,UAAU,IAAI,WAAW,EAErCU,EAAS,MAAM,CACb,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,MAAO,OACP,QAASrB,EACT,UAAW,UACX,YAAa,KACb,cAAe,GACf,SAAU,MACV,SAAU,UACpB,CAAS,EAEDY,EAAQ,UAAY,GACpB,MACD,CAID,GAFAI,EAAa,KAAK,KAAKd,EAAK,UAAYoB,EAAQ,QAAQ,EAEpDC,IAASP,EAAY,CACvBK,EAAS,KAAK,CACZ,QAAS,6BACT,aAAc,UACd,gBAAiB,UACjB,MAAO,OACP,YAAa,KACb,cAAe,GACf,SAAU,MACV,SAAU,UACpB,CAAS,EAEDV,EAAY,UAAU,IAAI,WAAW,EACrC,MACD,CAEDV,EAAaC,CAAI,EAEjB,MAAMsB,EAAcZ,EAAQ,sBAAqB,EAAG,OAEpD,cAAO,SAAS,CACd,IAAKY,EACL,SAAU,QAClB,CAAO,EAEMV,EAAS,SACtB,CAAK,EACA,MAAMW,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbC,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,CChFA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC9BP,EAAQ,SAAS,cAAc,qBAAqB,EACpDR,EAAU,SAAS,cAAc,gBAAgB,EACjDD,EAAc,SAAS,cAAc,WAAW,EAChDe,EAAS,SAAS,cAAc,SAAS,EAChDE,EAAM,qCACL,IAAIC,EAAM,2BACbC,EAAa,GAAGD,CAAG,QAAQD,CAAG,GAE3B,MAAMN,EAAU,CACrB,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACZ,EAEO,IAAIC,EACPQ,EACAC,EAEJL,EAAK,iBAAiB,SAAUM,GAAS,CACvCA,EAAM,eAAc,EACpBrB,EAAQ,UAAY,KACpBc,EAAO,UAAU,OAAO,WAAW,EACnCM,EAAaZ,EAAM,MACnBG,EAAO,EACPQ,EAAc,IAAI,gBAAgBT,CAAO,EACzCQ,EAAa,GAAGA,CAAU,MAAMV,EAAM,KAAK,IAAIW,CAAW,SAASR,CAAI,GACvEN,EAAUa,CAAU,CACtB,CAAC,EAEDnB,EAAY,iBAAiB,QAAS,IAAM,CAC1CY,GAAQ,EACRO,EAAa,GAAGA,CAAU,MAAME,CAAU,IAAID,CAAW,SAASR,CAAI,GACtEN,EAAUa,CAAU,CACtB,CAAC"}